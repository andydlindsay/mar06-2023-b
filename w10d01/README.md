# W10D01 - Rails Review

### To Do
- [x] "Rails Week" Conversation
- [x] MVC Review
- [x] Quickly build simple Rails app
- [x] Nested Resources
- [x] Returning JSON

### Rails Week Convo
* too much magic for me, useful for simpler apps
* magic makes it hard to follow sometimes
* Rails wasn't explicit enough
* waaay too many files and folders
* don't like the ruby syntax
* implicit return in ruby is cool
* overwhelming at first (but can get used to it)
* auto file creation
* loved the hungarian notation ('!' and '?')
* singular vs plural
* proper capitalization
* rails passes data from model to view (MVC)

### Model View Controller Review
- **Model:** Responsible for handling data logic (eg. database queries)
- **View:** Responsible for the UI (User Interface)
- **Controller:** Ties the model and view together, talks to both and shares data between them
- Rails also uses a router (`routes.rb`) sitting between the user requests and the controllers that respond to those requests

![MVC Diagram](https://raw.githubusercontent.com/tborsa/LighthouseLabs/master/lectures/Week7/Day3/Lecture/assets/mvc-rails.png)

### Nested Routes
* We define the nesting in our routes. In routes.rb:

```ruby
resources :authors do
  resources :books
end
```

* Will generate:

```
author_books      GET    /authors/:author_id/books(.:format)          books#index
                  POST   /authors/:author_id/books(.:format)          books#create
new_author_book   GET    /authors/:author_id/books/new(.:format)      books#new
edit_author_book  GET    /authors/:author_id/books/:id/edit(.:format) books#edit
author_book       GET    /authors/:author_id/books/:id(.:format)      books#show
                  PATCH  /authors/:author_id/books/:id(.:format)      books#update
                  PUT    /authors/:author_id/books/:id(.:format)      books#update
                  DELETE /authors/:author_id/books/:id(.:format) 
```

* Notice that these routes will be affected by the `books` Controller. All the logic will go there to work with these nested routes.
* There are some nice helpful path helpers that get generated by this nested resource stuff. If you look at rake routes, you'll see the prefixes for these under PREFIX. For example, the path `/authors/5/books` could be generated by calling `author_books(@author)`.

### Useful Links
- [react-rails gem](https://github.com/reactjs/react-rails)
- [`dotenv` for Rails](https://github.com/bkeepers/dotenv)

#### Some notes borrowed from Travis' [lecture](https://github.com/tborsa/lectures/blob/master/week10/day1/notes.md) and Vas' [lecture](https://web.compass.lighthouselabs.ca/activities/433/lectures/3022)
